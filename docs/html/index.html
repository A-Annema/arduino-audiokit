<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Arduino AudioKit HAL: Arduino AudioKit HAL</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Arduino AudioKit HAL
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Arduino <a class="el" href="class_audio_kit.html" title="AudioKit API using the audio_hal.">AudioKit</a> HAL </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md_README"></a> There are different ESP32 <a class="el" href="class_audio_kit.html" title="AudioKit API using the audio_hal.">AudioKit</a> boards available that can be programmed with the Espressif ADF Framework.</p>
<p><img src="https://pschatzmann.github.io/arduino-audio-tools/resources/audio-toolkit.png" alt="Audio Kit" class="inline"/></p>
<p>The ADF Framework contains an abstractioin layer to support different CODEC chips. Unfortunately ADF can not be used in Arduino, but it would be quite useful to have this functionality also available.</p>
<p>I converted the <b>audio_boards</b> and their related <b>drivers</b> into an <b>Arduino Library</b> and provide an easy to use C++ class which configures both the CODEC and I2S. With this project it should get quite easy to use these boards also in Arduino.</p>
<h1><a class="anchor" id="autotoc_md1"></a>
Configuration</h1>
<p>You can define your board and the default settings in the <code><a class="el" href="_audio_kit_settings_8h_source.html">AudioKitSettings.h</a></code> file.</p>
<div class="fragment"><div class="line"> * @brief AUDIOKIT_BOARD selects a specic board:</div>
<div class="line"> * 1) lyrat_v4_3</div>
<div class="line"> * 2) lyrat_v4_2</div>
<div class="line"> * 3) lyrat_mini_v1_1</div>
<div class="line"> * 4) lyratd_msc_v2_2</div>
<div class="line"> * 5) lyratd_msc_v2_1</div>
<div class="line"> * 6) ai_thinker_v2_2</div>
<div class="line"> * 7) esp32_s2_kaluga_1_v1_2</div>
<div class="line"> */</div>
<div class="line"> </div>
<div class="line">#define AUDIOKIT_BOARD 1</div>
</div><!-- fragment --><p> Here the lyrat v3.4 has been selected. Alternatively you can specify the board in a sketch with a #define before the #includes as shown in the next example.</p>
<h1><a class="anchor" id="autotoc_md2"></a>
Example Sketch</h1>
<p>Here is an example sketch that writes audio data to the audio kit board via I2S. By default I2S is set up as master, the CODEC as slave, the sample size is 16 bits and the sample rate is 44.1k/sec if you did not change the default settings.</p>
<p>You can adjust these parameters by setting your requested values in the cfg below:</p>
<div class="fragment"><div class="line">#define AUDIOKIT_BOARD 7</div>
<div class="line"> </div>
<div class="line">#include &quot;AudioKit.h&quot;</div>
<div class="line">#include &quot;SineWaveGenerator.h&quot;</div>
<div class="line"> </div>
<div class="line">AudioKit kit;</div>
<div class="line">SineWaveGenerator wave;</div>
<div class="line">const int BUFFER_SIZE = 1024;</div>
<div class="line">uint8_t buffer[BUFFER_SIZE];</div>
<div class="line"> </div>
<div class="line">void setup() {</div>
<div class="line">  // open in write mode</div>
<div class="line">  auto cfg = kit.defaultConfig(true);</div>
<div class="line">  cfg.sample_rate = AUDIO_HAL_22K_SAMPLES;</div>
<div class="line">  kit.begin(cfg);</div>
<div class="line"> </div>
<div class="line">  // 1000 hz</div>
<div class="line">  wave.setFrequency(1000);</div>
<div class="line">  wave.setSampleRate(cfg.sampleRate());</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">void loop() {</div>
<div class="line">  size_t l = wave.read(buffer, BUFFER_SIZE);</div>
<div class="line">  kit.write(buffer, l);</div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md3"></a>
Documentation</h1>
<p>Here is the documentaion of the <a href="https://pschatzmann.github.io/arduino-audiokit-hal/html/class_audio_kit.html">AudioKit class</a></p>
<h1><a class="anchor" id="autotoc_md4"></a>
Status</h1>
<p>Early Development </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
